<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>プロダクトデザインコース紹介</title>
    <link rel="stylesheet" href="main.css" />
</head>
<body>
    <div class="container">
        <h1>プロダクトデザインコース</h1>
        <ol class="mokuzi">
            <!-- リンクのhrefをh2ではなくsectionに -->
            <li><a href="#couse-section"><span class="link-text">コース概要</span></a></li>
            <li><a href="#couse-section2"><span class="link-text">代表的な専門科目</span></a></li>
            <li><a href="#couse-section3"><span class="link-text">授業制作物(3年まで)</span></a></li>
            <li><a href="#couse-section4"><span class="link-text">まとめ</span></a></li>
        </ol>
    </div>
    <div class="honbun">
<!-- コース概要セクションのidを変更 -->
<h2>コース概要</h2>
<section id="couse-section" class="course-summary">
    <p>
    コンピュータやネットワークを活用し、消費者向け工業製品の設計のみならず、<strong>生産システムの設計に必要な技術</strong>を習得します。<br>
    また、人と環境に配慮した<strong>付加価値の高い多様な製品づくり</strong>の実現を目指します。
    </p>
</section>
<p class="reference-note">※<a href="https://www.ct.omu.ac.jp/courses/product-design/" target="_blank" rel="noopener noreferrer">大阪公立大学工業高等専門学校ホームページ</a>参照</p>
<h2 id="curriculum">代表的な専門科目</h2>
<section id="couse-section2" class="course-subjects">
<div class="listpicture">
    どのような専門科目があるのかを紹介します。<br>
    響きだけでもいいので楽しんでいってください。
</div>
  <ul class="sub-list">
    <li>製図基礎</li>
    <li>CAD設計製図</li>
    <li>CAM/CAE</li>
    <li>材料力学</li>
    <li>熱力学</li>
    <li>機械設計</li>
    <li>制御工学</li>
    <li>機械工作法</li>
    <li>ユニバーサルデザイン</li>
  </ul>
  <img src="picture1.png" alt="公大高専HPの写真" class="picture1">
</section>
<h2 id="project">授業制作物(3年まで)</h2>
<section id="couse-section3" class="getthing">
<div class="label-block">
  <span class="section-labelf">製作者は3年生なので、2年生から3年生前期までの<br>
授業で制作したものを紹介します。</span>
</div>
<span class="section-label">・Fusion360</span><br>
<a href="picture2.png" target="_blank">
<img src="picture2.png" alt="Fusion360の写真1" class="picture2 zoomable">
</a>
<p class="image-caption">▲ペン立て</p>
<a href="picture3.png" target="_blank">
<img src="picture3.png" alt="Fusion360の写真2" class="picture3 zoomable">
</a>
<p class="image-caption">▲マグカップ</p>
<a href="picture4.png" target="_blank">
<img src="picture4.png" alt="Fusion360の写真3" class="picture4 zoomable">
</a>
<p class="image-caption">▲クマのチョコとチョコ型</p>
<a href="picture5.png" target="_blank">
<img src="picture5.png" alt="Fusion360の写真4" class="picture5 zoomable">
</a>
<p class="image-caption">▲リクライニングチェア</p>
<span class="section-label">・Rhino7</span><br>
<a href="picture6.png" target="_blank">
<img src="picture6.png" alt="Rhino7の写真1" class="picture5 zoomable">
</a>
<p class="image-caption">▲出力軸</p>
<a href="picture7.png" target="_blank">
<img src="picture7.png" alt="Rhino7の写真2" class="picture6 zoomable">
</a>
<p class="image-caption">▲最適化アルゴリズム</p>
<span class="section-label">・木材加工</span><br>
<a href="picture8.png" target="_blank">
<img src="picture8.png" alt="木材加工の写真" class="picture7 zoomable">
</a>
<p class="image-caption">▲木材加工の完成品</p>
<span class="section-label">・VBA</span><br>
<a href="picture9.png" target="_blank">
<img src="picture9.png" alt="プログラム" class="picture8 zoomable">
</a>
<p class="image-caption">▲プログラム(1部)</p>
<a href="picture10.png" target="_blank">
<img src="picture10.png" alt="プログラム" class="picture9 zoomable">
</a>
<p class="image-caption">▲Excel画面(1部)</p>
<span class="section-label">・リレーシーケンス制御</span><br>
<a href="picture11.png" target="_blank">
<img src="picture11.png" alt="リレーシーケンス1" class="picture10 zoomable">
</a>
<p class="image-caption">▲ラダー図</p>
<a href="picture12.png" target="_blank">
<img src="picture12.png" alt="リレーシーケンス2" class="picture11 zoomable">
</a>
<p class="image-caption">▲実習キット</p>
</section>
<h2 id="career">まとめ</h2>
<section id="couse-section4" class="career">
    <p>
    プロダクトデザインコースでは、<strong>製品設計の基礎から応用まで</strong>を学びます。<br>
    <strong>設計や制御</strong>に興味のある方に向いているコースです。<br>
    <strong>どんなことでも全力で取り組むことができる</strong>という方にも向いています。<br>
    これでプロダクトデザインコースについて知ることができたのであれば幸いです。 </br>
    ご覧いただきありがとうございました。
    </p>
<div class="back">
<div class="infomelast">
    <p class="infometitle">製作者</p>
    <p>大阪公立大学工業高等専門学校</p>
    <p>3年プロダクトデザインコース</p>
    <p>大塚結菜</p>
    <p>Tel：090-3991-7147</p>
    <p>Mail：<a href="mailto:rc23025p@st.omu.ac.jp">rc23025p@st.omu.ac.jp</a></p>
</div>
</div>
<script>
  function scrollAndHighlight(link) {
    const href = link.getAttribute("href");
    if (href && href.startsWith("#")) {
      const target = document.querySelector(href);

      link.classList.add("active-highlight");

      // 少し待ってからスクロール
      setTimeout(() => {
        if (target) {
          smoothScrollTo(target, 1600); // ← PCでもゆっくりぬるっと
          history.replaceState(null, null, href);
        }
      }, 100);

      // 下線を自然に消す
      setTimeout(() => {
        link.classList.remove("active-highlight");
        link.blur();
      }, 1800); // スクロール時間 + α
    }
  }

  document.querySelectorAll(".mokuzi a").forEach(link => {
    // スマホ対応
    link.addEventListener("touchend", function (e) {
      e.preventDefault();
      scrollAndHighlight(link);
    });

    // PC対応
    link.addEventListener("click", function (e) {
      e.preventDefault();
      scrollAndHighlight(link);
    });
  });

  // スクロール関数はそのままでOK
  function smoothScrollTo(element, duration) {
  // ヘッダーの高さ＋余白分を取得
  const header = document.querySelector("h1");
  const headerOffset = (header ? header.offsetHeight : 60) + 65; // 16px余白（お好みで調整）

  const targetY = element.getBoundingClientRect().top + window.pageYOffset - headerOffset;
  const startY = window.pageYOffset;
  const startTime = performance.now();

  function scroll() {
    const now = performance.now();
    const elapsed = now - startTime;
    const progress = Math.min(elapsed / duration, 1);
    const ease = 0.5 - Math.cos(progress * Math.PI) / 2;
    window.scrollTo(0, startY + (targetY - startY) * ease);
    if (progress < 1) requestAnimationFrame(scroll);
  }

  requestAnimationFrame(scroll);
}
</script>
<script>
  document.querySelectorAll('.zoomable').forEach(img => {
    img.addEventListener('click', () => {
      const modal = document.createElement('div');
      modal.className = 'zoom-modal';
      modal.innerHTML = `
        <div class="zoom-content">
          <img src="${img.src}" alt="${img.alt}" class="zoom-image">
        </div>
      `;
      document.body.appendChild(modal);

      // 拡大率の初期値
      let scale = 1;

      const zoomImg = modal.querySelector('.zoom-image');

      // スクロールで拡大・縮小
      modal.addEventListener('wheel', (e) => {
        e.preventDefault();
        scale += e.deltaY < 0 ? 0.1 : -0.1;
        scale = Math.min(Math.max(scale, 1), 3); // 1〜3倍の間で制限
        zoomImg.style.transform = `scale(${scale})`;
      });

      // モーダルをクリックしたら閉じる
      modal.addEventListener('click', () => {
        modal.remove();
      });
    });
  });
</script>
</body>

</html>
